# --------------------------------------------
#  config includes as much features as
#  possible for rough integration testing


# set random hostname
RPI_HOSTNAME="testpi"
# run those plugins
RPI_BOOTSTRAP_PLUGINS=( \
    "raspbian" "apt" "config" "dist" "hostname" "password" \
    "ssh" "systemctl" "wifi" \
)
# choose raspbian
RPI_DOWNLOAD_RASPBIAN_FLAVOR="lite"
# full upgrade + install tools
RPI_APT_CMDS=( \
    "update" "full-upgrade" "autoremove" \
    "install --yes --quiet screen sox" \
)
# modify config.txt
RPI_CONFIG_ADD=( "dtoverlay=disable-bluetooth" )
RPI_CONFIG_REMOVE=( "dtparam=audio=on" )
# copy some files
RPI_DIST_COPY=( "/etc/motd" )
RPI_DIST_APPEND=( "/etc/issue" )
# change password
RPI_PASSWORD_PW=( "$(< /dev/urandom tr -dc _A-Z-a-z-0-9 | head -c${1:-24};echo;)" )
# generate a new key
RPI_SSH_KEYGEN=1
# add those pubkeys to authorized_keys
RPI_SSH_AUTHORIZE=( "ssh-foobar AAAA....some-public-key......... user@host" )
# disable some services
RPI_SYSTEMCTL_CMDS=( "disable avahi-daemon bluetooth bluetooth.target hciuart" )
# wifi credentials for default wifi
RPI_WIFI_SSID="mynetwork"
RPI_WIFI_PSK="mywifipassword"
